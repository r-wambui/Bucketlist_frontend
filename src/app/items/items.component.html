
<div class="container">
  <div class="row">
    
   
    <div class="col-md-10 col-md-offset-1">

      <div class="panel panel-default panel-table">
        <div class="panel-heading">
          <div class="row">
            <div class="col col-xs-6">
              <h3 class="panel-title">Bucketlist Items</h3>
            </div>
            <div class="col col-xs-6 text-right">
              <button type="button" class="btn btn-sm btn-primary btn-create" data-toggle="modal" data-target="#myModal">Add items</button>
              <div id="myModal" class="modal fade" role="dialog">
                <div class="modal-dialog">

                  
                  <div class="modal-content">

                    <div class="modal-header">
                      <button type="button" class="close" data-dismiss="modal">&times;</button>
                      <h4 class="modal-title">Item</h4>
                    </div>
                    <div class="modal-body">
                      <form  >
                        <div class="form-group">
                         <label for="name" >Item name</label>
                         <input type="text" class="form-control" placeholder="Enter item name" name="name"
                         [(ngModel)]="name">
                         <button type="button" class="btn btn-default" (click)="onAddItem(name, bucketlist_id)">Add</button>
                       </div>
                     </form>
                     
                   </div>
                 </div>

               </div>
             </div>
           </div>
         </div>
         <div class="panel-body">
          <table class="table table-striped table-bordered table-list">
            <thead>
              <tr>
                <th></th>
                <th>#</th> 
                <th class="hidden-xs">Item ID</th>
                <th>Item Name</th>
                <th>Date Created</th>
                <th>Done</th>
              </tr> 
            </thead>
            <tbody >
              <tr *ngFor="let item of items | paginate: {itemsPerPage: 5, currentPage:page, id: '1'}; let i = index ">
                <td align="center">
                  <a class="btn btn-default" data-toggle="modal" data-target="#newitem"><em class="fa fa-pencil"  (click)="setItemId(item.id);setBucketListId(bucketlist_id)"></em></a>
                  


                  <!-- delete -->
                  <a class="btn btn-danger" ><em class="fa fa-trash" (click)="onDelete(bucketlist_id, item.id)"></em></a> 
                </td>
                <td>{{i + 1}}</td>
                <td class="hidden-xs">{{item.id}}</td>
                <td>{{item.name}}</td>
                <td >{{item.date_created | amDateFormat:'LL'}}</td>
                <td>{{item.done.IsActive && 'Active' || 'No'}}</td>
              </tr>
            </tbody>
          </table>
          
        </div>
        
        <div class="panel-footer">
         <pagination-controls (pageChange)="page = $event" id="1"
         maxSize="5"
         directionLinks="true"
         autoHide="false">
       </pagination-controls>
       
     </div>

   </div>


 </div>
 <div id="newitem" class="modal fade" role="dialog">
  <div class="modal-dialog">      
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;
        </button>
        <h4 class="modal-title"> Edit Item</h4>
      </div>
      <div class="modal-body">
        <form  >
          <div class="form-group">
            <label for="name" >Item name</label>
            <input type="text" class="form-control" placeholder="Enter new item name" name="name"
            [(ngModel)]="name">
            <button type="button" class="btn btn-default" (click)="onUpdate(name)">update</button>
          </div>
        </form>
        
      </div>
    </div>

  </div>
</div>
<app-footer>
</app-footer>